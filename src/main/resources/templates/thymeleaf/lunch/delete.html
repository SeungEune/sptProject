<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head></head>

<body>

<div th:replace="~{cmm/layout/mainLayout :: layout (~{::content})}">

    <div th:fragment="content">
        <link rel="stylesheet" th:href="@{/css/lunch/delete.css}">
        <link rel="stylesheet" th:href="@{/css/lunch/register.css}">

        <h1 class="content-title">점심/커피 내역 삭제</h1>

        <div class="content-body lunch-layout">

            <form class="entry-form readonly-form" th:action="@{/lunch/delete.do}" method="post">
                <input type="hidden" name="lunchId" th:value="${lunch.lunchId}">

                <div class="form-group">
                    <label for="date-input">날짜</label>
                    <input type="date" id="date-input" th:value="${lunch.date}" disabled>
                </div>

                <div class="form-group">
                    <label for="store-name">가게명</label>
                    <input type="text" id="store-name" th:value="${lunch.storeName}" disabled>
                </div>

                <div class="form-group">
                    <label>참석자</label>
                    <input type="text" id="participant-summary" disabled>
                </div>

                <div class="form-group">
                    <label for="payer-name">계산자</label>
                    <input type="text" id="payer-name" th:value="${lunch.payerName}" disabled>
                </div>

                <fieldset class="form-group">
                    <legend class="legend-title">유형</legend>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="type-lunch" value="점심" th:checked="${lunch.type == '점심'}" disabled>
                            <label for="type-lunch">점심</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="type-coffee" value="커피" th:checked="${lunch.type == '커피'}" disabled>
                            <label for="type-coffee">커피</label>
                        </div>
                    </div>
                </fieldset>

                <button type="button" class="submit-btn btn-red" onclick="confirmDelete()">삭제</button>
            </form>

            <div class="amount-panel">
                <div class="amount-header">
                    <h2 class="amount-panel-title">개인별 금액</h2>
                </div>

                <div class="amount-list" id="amount-list-container">
                    <p id="amount-placeholder" class="amount-placeholder">
                        참석자 정보를 불러오는 중...
                    </p>
                </div>
            </div>
        </div>

        <script th:inline="javascript">
            window.lunchData = {
                userList: /*[[${userList}]]*/ [],
                existingParticipants: /*[[${lunch.participants}]]*/ ''
            };
        </script>

        <script type="text/javascript" th:src="@{/js/lunch/delete.js}"></script>
    </div>
</div>

</body>
</html>