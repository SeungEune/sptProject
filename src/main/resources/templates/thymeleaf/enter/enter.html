<!DOCTYPE html>
<html th:replace="~{cmm/layout/mainLayout :: layout(~{::content})}"
      xmlns:th="http://www.thymeleaf.org">
<body th:fragment="content">
    <!-- 헤더 -->
    <div class="two-col-page">
        <!-- 왼쪽: 검색조건 패널 (포커스 들어오면 테두리/그림자 강조됨) -->
        <section class="panel search-form" aria-label="검색 조건">
            <div class="field">
                <label for="q">키워드</label>
                <input id="q" type="text" placeholder="입력하세요">
            </div>

            <div class="field">
                <label for="opt">분류</label>
                <select id="opt">
                    <option value="">전체</option>
                    <option value="role">직책</option>
                    <option value="finger">지문</option>
                    <option value="status">상태</option>
                    <option value="date">등록일</option>
                </select>
            </div>
            <div id="date-range" class="date-range" hidden>
                <div class="field">
                    <label for="date-from">날짜</label>
                    <input id="date-from" type="date">
                </div>

                <div class="field">
                    <label for="date-to">~</label>
                    <input id="date-to" type="date">
                </div>
            </div>
            <div class="search-actions">
                <button class="btn primary" type="button">검색</button>
                <button class="btn" type="reset">초기화</button>
            </div>
        </section>

        <!-- 오른쪽: 목록 + 버튼들 -->
        <section class="panel result-wrap" aria-label="검색 결과">
            <div class="toolbar">
                <div class="meta">검색 결과 <strong>0</strong>건</div>
                <div class="actions" style="display:flex; gap:8px">
                    <!-- 툴바의 추가 버튼에 id 부여 -->
                    <button class="btn primary" type="button" id="open-enter-modal">추가</button>
                    <button class="btn" type="button" id="open-enter-modal2">수정</button>
                    <button class="btn danger" type="button" id="open-enter-modal3">삭제</button>
                </div>
            </div>

            <div class="table-card" tabindex="0" aria-label="결과 목록 테이블">
                <table>
                    <thead>
                    <tr>
                        <th style="width:56px;"><input type="checkbox" aria-label="전체 선택"></th>
                        <th>이름</th>
                        <th>아이디</th>
                        <th>직책</th>
                        <th>이메일</th>
                        <th>지문</th>
                        <th>상태</th>
                        <th style="width:140px;">등록일</th>
                        <th style="width:140px;">최종수정일</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- 데이터 반복 영역 -->
<!--                    <tr>-->
<!--                        <td><input type="checkbox" aria-label="행 선택"></td>-->
<!--                        <td>홍길동</td>-->
<!--                        <td>개발</td>-->
<!--                        <td>dev@example.com</td>-->
<!--                        <td>2025-11-11</td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td><input type="checkbox" aria-label="행 선택"></td>-->
<!--                        <td>이서연</td>-->
<!--                        <td>기획</td>-->
<!--                        <td>pm@example.com</td>-->
<!--                        <td>2025-11-10</td>-->
<!--                    </tr>-->
                    <!-- /반복 -->
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- 출입 대상자 등록 모달 -->
    <div id="enterModal" class="modal" aria-hidden="true">
        <div class="modal__backdrop" data-close="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="enterModalTitle">
            <button type="button" class="modal__close" aria-label="닫기" data-close="true">×</button>

            <h3 id="enterModalTitle">출입 대상자 등록</h3>

            <form id="enterCreateForm" th:action="@{/enter/createEnter.do}" method="post" novalidate>
                <!-- (Spring Security 사용 시)
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                -->

                <div class="form-group">
                    <label for="enterUserId">아이디</label>
                    <input type="text" id="enterUserId" name="enterUserId" placeholder="사용자 아이디" required>
                </div>

                <div class="form-group">
                    <label for="enterFinger">지문</label>
                    <input type="text" id="enterFinger" name="enterFinger" placeholder="예: 1,2" required>
                    <small class="help-txt">숫자와 콤마 입력 (예: 1~10)</small>
                </div>

                <div class="modal__actions">
                    <button type="submit" id="enterSubmitBtn" class="btn primary">등록</button>
                    <button type="button" class="btn" data-close="true">취소</button>
                </div>
                <p id="enterHelp" class="help-txt"></p>
            </form>
        </div>
    </div>

    <!-- 출입 대상자 수정 모달 -->
    <div id="enterModal2" class="modal" aria-hidden="true">
        <div class="modal__backdrop" data-close="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="enterModalTitle">
            <button type="button" class="modal__close" aria-label="닫기" data-close="true">×</button>

            <h3 id="enterModalTitle2">출입 대상자 수정</h3>

            <form id="enterUpdateForm" th:action="@{/enter/updateEnter.do}" method="post" novalidate>
                <!-- (Spring Security 사용 시)
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                -->

                <div class="form-group">
                    <label for="enterUserId2">아이디</label>
                    <input type="text" id="enterUserId2" name="enterUserId2" placeholder="변경할 사용자 아이디" required readonly>
                </div>

                <div class="form-group">
                    <label for="enterFinger2">지문</label>
                    <input type="text" id="enterFinger2" name="enterFinger2" placeholder="예: 1,2" required>
                    <small class="help-txt">숫자와 콤마 입력 (예: 1~10)</small>
                </div>

                <div class="modal__actions">
                    <button type="submit" id="enterSubmitBtn2" class="btn primary">수정</button>
                    <button type="button" class="btn" data-close="true">취소</button>
                </div>
                <p id="enterHelp2" class="help-txt"></p>
            </form>
        </div>
    </div>

    <div id="deleteEnterModal" class="modal" aria-hidden="true">
        <div class="modal__backdrop" data-close="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="enterModalTitle">
            <button type="button" class="modal__close" aria-label="닫기" data-close="true">×</button>

            <h3 id="deleteEnterModalTitle">출입 대상자 삭제</h3>
            <p>아이디를 삭제하시겠습니까?</p>
            <!-- 삭제 모달 폼 -->
            <form id="deleteEnterForm" action="/enter/deleteEnter.do" method="post">
                <!-- (보안 사용 시 CSRF도 같이) -->
                <input type="hidden" id="deleteUserId" name="userId">  <!-- ★ 서버가 받는 파라미터명과 일치 -->
                <button type="submit" id="enterSubmitBtn3" class="btn primary">확인</button>
                <button type="button" data-close="true" class="btn">취소</button>
            </form>
        </div>
    </div>


    <!-- JavaScript -->
    <script th:src="@{/js/enter/enter.js}"></script>

</body>
</html>
